import pymongo
import BidTrackerScraper
import time

bts = BidTrackerScraper.BidTrackerScraper()
bts._connect_to_mongodb()
new_auctions = ['280073632', '816029407', '281624386', '532555505', '729705541', '510850984', '785038512', '618544564', '482537169', '704365170', '866754756', '907182460', '612097750', '546698789', '243657046', '723901974', '895664397', '451884391', '546229160', '515956025', '856665143', '146891600', '340051294', '455503395', '794395613', '624932993', '823284585', '165437863', '825130191', '377893318', '701653648', '282365369', '862044816', '309976193', '177883123', '673464514', '612057664', '268298792', '471624997', '607288616', '144440240', '244083179', '613154261', '615775975', '973494096', '198051426', '678925872', '630254608', '114505735', '201604242', '471508519', '158484091', '443609631', '694894263', '301680238', '622554365', '761090005', '336449553', '959963730', '276399821', '917375198', '614865986', '153691069', '794152239', '632605897', '603870367', '725550879', '913010519', '575907015', '777069282', '996370876', '288198585', '680784568', '287435535', '877668729', '979243375', '162696187', '162298747', '344296642', '318129536', '219836412', '308347585', '489855444', '468949484', '775171186', '781362685', '663777241', '406480974', '739647968', '263212546', '147919487', '761840199', '570267166', '140919047', '630973785', '913776126', '176901505', '535035673', '312905044', '791090159', '299093693', '568251290', '112688628', '817765334', '248258846', '744176566', '910122102', '901213104', '632892531', '588204972', '130386795', '295814147', '850914616', '582953511', '469427747', '140898956', '899340960', '488981546', '636531480', '961202736', '376736043', '452791337', '387355207', '119480090', '878203652', '362210505', '275550147', '369773560', '613549556', '726726298', '278905163', '139980442', '205071607', '801430723', '919248050', '357563933', '716369358', '889956400', '162594024', '732776986', '386987252', '732566320', '573875016', '217928423', '582384425', '151692693', '161561267', '340547644', '465984966', '754438162', '529748815', '847315693', '972363331', '499745189', '811465804', '996515535', '199907840', '789732815', '727645020', '444965771', '467533172', '966754254', '295099582', '227829942', '823086670', '118272373', '896454554', '574122627', '638620899', '398933010', '669417301', '600515846', '964070126', '686895876', '769388174', '371402826', '663896328', '223397067', '618444385', '980966938', '317187437', '866143715', '457023496', '357137100', '188451436', '788873584', '688819673', '359935093', '659194486', '723964386', '351653380', '694064330', '602472693', '903017229', '171226051', '691580053', '841809308', '327426919', '278163165', '934082396', '768857923', '373410491', '230148455', '448310449', '802376593', '975002033', '173614566', '347082965', '325130670', '527401339', '402964401', '223263474', '858445250', '378478717', '237214949', '704938566', '961597461', '179179424', '118259642', '729253207', '289116934', '835567043', '963711295', '183434035', '630015059', '688896716', '709117798', '272710662', '108947313', '135409567', '624922475', '650763893', '212701975', '845323238', '381678595', '881059361', '718900430', '540419562', '449297412', '498783629', '771828137', '772734465', '991598963', '163688054', '579883427', '310983080', '454975578', '587132022', '598164140', '129514192', '522526659', '248607430', '535149897', '186093949', '840178449', '700030617', '861814297', '402206766', '538642194', '877564927', '874043451', '689611340', '991623892', '410762717', '884755447', '942042451', '710237062', '368437682', '216477367', '811306454', '750772041', '419228875', '125539080', '209561704', '902253997', '801108723', '243107666', '116925680', '945621797', '818357745', '139919214', '643846809', '316583963', '255165462', '637774880', '985644583', '385515944', '149578269', '671904605', '710868032', '770390803', '582074753', '753344183', '319362537', '683369080', '593470697', '998720946', '749525997', '808117040', '674716762', '408408457', '999004482', '684837146', '902741810', '300542096', '615831946', '799602811', '962910426', '514645601', '439575952', '681427322', '828776186', '554985410', '614525115', '559397826', '952011608', '325154541', '158236264', '310059465', '356290198', '298995365', '563907552', '503741730', '350180815', '424567218', '727789833', '706170437', '268631114', '752971947', '239048127', '311368961', '311610208', '799155936', '103759661', '831020901', '195304398', '769027012', '606226888', '320120214', '793653837', '319609866', '111125070', '501006899', '798139433', '821329561', '937033818', '626183774', '968710279', '731776165', '527199754', '798041168', '377797458', '296467647', '157867812', '792252296', '892132130', '665536620', '737171748', '908057194', '286485368', '354509156', '278521418', '249719785', '255151261', '909692464', '452805719', '946061368', '186528414', '422036982', '383081886', '751836665', '189084393', '219419556', '351393753', '116400535', '677194823', '154584127', '751692077', '654994998', '889534754', '803268315', '829795659', '851871690', '120748776', '120035251', '902456298', '356826811', '247681114', '802277399', '360001628', '148157129', '204116567', '809017052', '451562360', '426332274', '996028242', '992701897', '190847865', '391917629', '461562072', '880203181', '470548569', '453521896', '535596790', '386106050', '646839635', '354713621', '576987967', '119349607', '177328510', '177456741', '591438333', '213984084', '726602174', '284098200', '945089894', '469288557', '248570349', '450291359', '232017235', '847861803', '207990390', '504014667', '774968330', '679751484', '606503850', '163097730', '898443902', '712131090', '101498386', '750271838', '123656906', '756856784', '281695555', '544204039', '419216137', '572115043', '692026596', '859855741', '362990033', '603497731', '491669453', '101431184', '400390799', '493871763', '612968862', '279335719', '982153168', '951993495', '277573148', '297327665', '491340734', '217081026', '711568538', '905114438', '530542599', '393920923', '954877019', '223544413', '626377703', '851323435', '711509710', '649077635', '603217544', '954244283', '852653377', '777740121', '880354814', '511917400', '308113599', '650838273', '403271602', '215991301', '380227336', '619483212', '543122437', '851403135', '634040868', '511328183', '826032825', '704959940', '772155956', '412031627', '263195412', '908367075', '834014421', '519702655', '285022063', '514664958', '278736286', '912987219', '983920083', '464031216', '691329635', '205541490', '607781758', '450741268', '897517303', '802069372', '681073209', '166569574', '511816269', '653946048', '797110259', '784184929', '640247006', '602697251', '568601964', '449900951', '420111259', '384534030', '284106532', '430519906', '930849875', '774662623', '831067394', '900805035', '757661387', '558174278', '679938680', '957412925', '186633980', '631209707', '619511735', '123107021', '536766021', '751598871', '482614768', '789152927', '337044647', '998802004', '516827840', '143118375', '751142508', '502647857', '975278346', '111164206', '955157946', '751535851', '168046885', '319066848', '930579217', '787573298', '177553005', '305456933', '376583377', '725667810', '988926797', '304605071', '388485712', '293509419', '705476369', '253292056', '562966701', '304177595', '154475427']

i = 0

bts.login(0)
for aid in new_auctions:
    print(i, len(new_auctions))
    if not (bts.pages_collection.find_one({"_id": aid})):
        auction = bts._scrape_auction(aid, "whatever", .5)
        bts.pages_collection.insert_one(auction)
    i += 1
